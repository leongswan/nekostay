# ğŸ± Nekostay - æ„›çŒ«ã®ãŸã‚ã®å„ªã—ã„è¦‹å®ˆã‚Šã‚¢ãƒ—ãƒª

![GitHub language count](https://img.shields.io/github/languages/count/leongswan/nekostay)
![Ruby](https://img.shields.io/badge/Ruby-3.2-red.svg?logo=ruby&style=flat)
![Rails](https://img.shields.io/badge/Rails-7.1-cc0000.svg?logo=rubyonrails&style=flat)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg?logo=postgresql&style=flat)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

**URL:** [https://nekostay.onrender.com](https://nekostay.onrender.com)

## ğŸ“– æ¦‚è¦ (Overview)
**ã€Œé›¢ã‚Œã¦ã„ã¦ã‚‚ã€å¿ƒã¯ãã°ã«ã€‚ã€**

Nekostayã¯ã€çŒ«ã®é£¼ã„ä¸»ã¨ã‚·ãƒƒã‚¿ãƒ¼ã‚’ç¹‹ãã€å®‰å¿ƒãƒ»å®‰å…¨ãªè¦‹å®ˆã‚Šäºˆç´„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚
æ—…è¡Œã‚„å‡ºå¼µã§å®¶ã‚’ç©ºã‘ã‚‹éš›ã€ãƒšãƒƒãƒˆãƒ›ãƒ†ãƒ«ã§ã¯ãªãã€Œã„ã¤ã‚‚ã®ãŠå®¶ã€ã§ãŠä¸–è©±ã‚’ã—ã¦ã‚‚ã‚‰ã†ãŸã‚ã®ãƒãƒƒãƒãƒ³ã‚°ã¨ã€å¥‘ç´„ãƒ»æ±ºæ¸ˆãƒ»å ±å‘Šã¾ã§ã‚’ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—ã§æä¾›ã—ã¾ã™ã€‚

### è§£æ±ºã™ã‚‹èª²é¡Œ
* **é£¼ã„ä¸»:** ãƒšãƒƒãƒˆãƒ›ãƒ†ãƒ«ãªã©ã®ç’°å¢ƒå¤‰åŒ–ã«ã‚ˆã‚‹çŒ«ã®ã‚¹ãƒˆãƒ¬ã‚¹ã‚’è»½æ¸›ã—ãŸã„ã€‚å£ç´„æŸã§ã¯ãªãã€ã—ã£ã‹ã‚Šã—ãŸå¥‘ç´„ã‚’çµã³ãŸã„ã€‚
* **ã‚·ãƒƒã‚¿ãƒ¼:** ãŠä¸–è©±ã®è¨˜éŒ²ã‚„å ±å‘Šã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œã„ãŸã„ã€‚é‡‘éŠ­ãƒˆãƒ©ãƒ–ãƒ«ã‚’é˜²ããŸã„ã€‚

## ğŸ“¸ ç”»é¢ã‚¤ãƒ¡ãƒ¼ã‚¸ (Screen Shots)

![Top Page](https://i.gyazo.com/56a8c0e7de46b59922e4d1b393f098d2/raw)

### ğŸ“± ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
Hotwire (Turbo/Stimulus) ã‚’æ´»ç”¨ã—ã€ã‚·ãƒƒã‚¿ãƒ¼ã¨é£¼ã„ä¸»ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ä¼šè©±ã§ãã‚‹ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚

![Chat Demo](https://gyazo.com/83124150b3def37113ee0106fff1b245/raw)

### ğŸ“Š ãŠä¸–è©±ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
äºˆç´„çŠ¶æ³ã€å¥‘ç´„æ›¸ã€ãŠä¸–è©±ãƒ¬ãƒãƒ¼ãƒˆã‚’ä¸€å…ƒç®¡ç†ã€‚Stripeæ±ºæ¸ˆã‚‚çµ±åˆã•ã‚Œã¦ã„ã¾ã™ã€‚

![Dashboard](https://gyazo.com/73d794a46e1db1cbc8544d814d52cd7e/raw)


## âš¡ ä¸»ãªæ©Ÿèƒ½ (Features)

* **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½**
    * ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³ (Devise)
    * ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† (ActiveStorageã«ã‚ˆã‚‹ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰)
    * ãƒšãƒƒãƒˆæƒ…å ±ã®ç™»éŒ²
* **äºˆç´„ãƒ»å¥‘ç´„**
    * ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚ˆã‚‹æ—¥ç¨‹é¸æŠ
    * **ãƒ‡ã‚¸ã‚¿ãƒ«å¥‘ç´„æ›¸ã®è‡ªå‹•ç”Ÿæˆãƒ»è¡¨ç¤º**
    * ãŠä¸–è©±å†…å®¹ï¼ˆé£Ÿäº‹ã€ãƒˆã‚¤ãƒ¬ã€æŠ•è–¬ãªã©ï¼‰ã®å¼•ç¶™ããƒªã‚¹ãƒˆä½œæˆ
* **ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ & å ±å‘Š**
    * **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆ** (Hotwire)
    * å†™çœŸä»˜ãã®ãŠä¸–è©±æ—¥å ±æ©Ÿèƒ½
* **æ±ºæ¸ˆ**
    * **ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆ** (Stripe API)

## ğŸ›  ä½¿ç”¨æŠ€è¡“ (Tech Stack)

| Category | Technology |
| --- | --- |
| **Backend** | Ruby 3.2, Ruby on Rails 7.1 |
| **Frontend** | Hotwire (Turbo, Stimulus), ERB, CSS |
| **Database** | PostgreSQL |
| **Infrastructure** | Docker, Render (PaaS) |
| **Payment** | Stripe API |
| **Version Control** | Git, GitHub |

## ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (Database Design)

### Users ãƒ†ãƒ¼ãƒ–ãƒ«
| Column | Type | Options |
| ------ | ---- | ------- |
| id | integer | PK |
| name | string | null: false |
| email | string | null: false, unique: true |
| encrypted_password | string | null: false |
| introduction | text | |
| created_at | datetime | null: false |
| updated_at | datetime | null: false |

#### ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
* has_many :pets
* has_many :stays (as owner)
* has_many :sitter_stays (as sitter)
* has_many :messages
* has_many :checkins

### Pets ãƒ†ãƒ¼ãƒ–ãƒ«
| Column | Type | Options |
| ------ | ---- | ------- |
| id | integer | PK |
| name | string | null: false |
| species | string | |
| age | integer | |
| gender | integer | |
| user_id | integer | FK, null: false |
| created_at | datetime | null: false |
| updated_at | datetime | null: false |

#### ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
* belongs_to :user
* has_many :stays

### Stays ãƒ†ãƒ¼ãƒ–ãƒ«
| Column | Type | Options |
| ------ | ---- | ------- |
| id | integer | PK |
| start_on | date | null: false |
| end_on | date | null: false |
| place | integer | default: 0 (owner_home) |
| status | integer | default: 0 (draft) |
| notes | text | |
| pet_id | integer | FK, null: false |
| owner_id | integer | FK, null: false |
| sitter_id | integer | FK, null: false |
| paid_at | datetime | |
| created_at | datetime | null: false |
| updated_at | datetime | null: false |

#### ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
* belongs_to :pet
* belongs_to :owner (User)
* belongs_to :sitter (User)
* has_many :checkins
* has_many :messages
* has_one :review
* has_one :contract

### Checkins ãƒ†ãƒ¼ãƒ–ãƒ«
| Column | Type | Options |
| ------ | ---- | ------- |
| id | integer | PK |
| checked_at | datetime | null: false |
| report | text | |
| stay_id | integer | FK, null: false |
| user_id | integer | FK |
| created_at | datetime | null: false |
| updated_at | datetime | null: false |

#### ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
* belongs_to :stay
* belongs_to :user

### Messages ãƒ†ãƒ¼ãƒ–ãƒ«
| Column | Type | Options |
| ------ | ---- | ------- |
| id | integer | PK |
| body | text | null: false |
| stay_id | integer | FK, null: false |
| user_id | integer | FK, null: false |
| created_at | datetime | null: false |
| updated_at | datetime | null: false |

#### ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
* belongs_to :stay
* belongs_to :user

### Reviews ãƒ†ãƒ¼ãƒ–ãƒ«
| Column | Type | Options |
| ------ | ---- | ------- |
| id | integer | PK |
| score | integer | null: false |
| comment | text | |
| stay_id | integer | FK, null: false |
| created_at | datetime | null: false |
| updated_at | datetime | null: false |

#### ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
* belongs_to :stay

### Addresses ãƒ†ãƒ¼ãƒ–ãƒ«
| Column | Type | Options |
| ------ | ---- | ------- |
| id | integer | PK |
| postal_code | string | null: false |
| prefecture | string | null: false |
| city | string | null: false |
| line1 | string | null: false |
| line2 | string | |
| created_at | datetime | null: false |
| updated_at | datetime | null: false |

## ğŸš€ ç’°å¢ƒæ§‹ç¯‰ (Installation)

Dockerç’°å¢ƒã§ç°¡å˜ã«èµ·å‹•ã§ãã¾ã™ã€‚

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone [https://github.com/leongswan/nekostay.git](https://github.com/leongswan/nekostay.git)
cd nekostay

# ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•
docker-compose build
docker-compose up -d

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆã¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
docker-compose exec web rails db:create db:migrate

# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ç¢ºèª
# http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
