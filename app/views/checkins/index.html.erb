<h1><%= t(".title") %> <span class="meta">(Stay #<%= @stay.id %>)</span></h1>

<p class="meta">
  <%= t(".period") %>: <%= @stay.start_on %> ã€œ <%= @stay.end_on %>
</p>

<div class="stack stack--end" style="margin: 8px 0 16px;">
  <%= link_to t(".new"), new_stay_checkin_path(@stay),
        data: { turbo_frame: "modal" }, class: "btn btn--primary" %>
  <%= link_to t(".to_stay"), stay_path(@stay), class: "btn" %>
</div>

<table class="table">
  <thead>
    <tr>
      <th><%= t(".th.time") %></th>
      <th><%= t(".th.weight") %></th>
      <th><%= t(".th.meal") %></th>
      <th><%= t(".th.litter") %></th>
      <th><%= t(".th.meds") %></th>
      <th><%= t(".th.memo") %></th>
      <th style="width:160px;"><%= t(".th.actions") %></th>
    </tr>
  </thead>

  <tbody>
    <% if @checkins.empty? %>
      <tr>
        <td colspan="7" class="meta" style="text-align:center; padding:24px;">
          <%= t(".empty") %>
          <%= link_to t(".create_first"), new_stay_checkin_path(@stay),
                data: { turbo_frame: "modal" }, class: "btn btn--primary", style: "margin-left:8px;" %>
        </td>
      </tr>
    <% else %>
      <% @checkins.each do |c| %>
        <tr>
          <td class="nowrap"><%= link_to dt_label(c.checked_at), stay_checkin_path(@stay, c) %></td>
          <td class="col-right"><%= weight_label(c.weight) %></td>
          <td><%= meal_label(c.meal) %></td>
          <td><%= litter_label(c.litter) %></td>
          <td><%= meds_badges(c.meds) %></td>
          <td class="truncate"><%= simple_format(c.memo) %></td>
          <td>
            <div class="stack">
              <%= link_to t(".show"),  stay_checkin_path(@stay, c), class: "btn btn--ghost" %>
              <%= link_to t(".edit"),  edit_stay_checkin_path(@stay, c),
                    data: { turbo_frame: "modal" }, class: "btn" %>
              <%= button_to t(".destroy"), stay_checkin_path(@stay, c),
                    method: :delete,
                    form: { data: { turbo_confirm: t(".confirm_destroy") }, class: "inline" },
                    class: "btn btn--danger" %>
            </div>
          </td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<turbo-frame id="modal"></turbo-frame>
