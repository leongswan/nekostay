<div style="max-width: 600px; margin: 40px auto; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
  <h2 style="text-align: center; color: #5A4A42; margin-bottom: 25px;">
    📝 お世話レポートの作成
  </h2>
  
  <p style="text-align: center; color: #999; margin-bottom: 30px;">
    <%= @checkin.checked_at.strftime('%Y年%m月%d日') %> の報告
  </p>

  <%= form_with(model: [@stay, @checkin], local: true) do |f| %>
    
    <% if @checkin.errors.any? %>
      <div style="background: #ffe6e6; color: #d63031; padding: 10px; border-radius: 6px; margin-bottom: 20px;">
        エラーが発生しました
      </div>
    <% end %>

    <div style="margin-bottom: 20px;">
      <%= f.label :report, "報告メッセージ", style: "display: block; font-weight: bold; margin-bottom: 5px; color: #555;" %>
      <%= f.text_area :report, rows: 5, placeholder: "ご飯完食しました！トイレも問題ありません。", style: "width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;" %>
    </div>

    <div style="margin-bottom: 30px;">
      <%= f.label :images, "写真 (複数選択可)", style: "display: block; font-weight: bold; margin-bottom: 5px; color: #555;" %>
      
      <% if @checkin.images.attached? %>
        <div style="display: flex; gap: 10px; margin-bottom: 10px; flex-wrap: wrap;">
          <% @checkin.images.each do |image| %>
            <%= image_tag image, style: "width: 80px; height: 80px; object-fit: cover; border-radius: 8px;" %>
          <% end %>
        </div>
      <% end %>

      <%= f.file_field :images, multiple: true, style: "font-size: 0.9rem;" %>
    </div>

    <%= f.submit "報告を送る", style: "width: 100%; background: #D98E63; color: white; border: none; padding: 12px; border-radius: 6px; font-size: 1rem; cursor: pointer; font-weight: bold;" %>
    
  <% end %>

  <div style="text-align: center; margin-top: 20px;">
    <%= link_to "キャンセル", stay_path(@stay), style: "color: #999; text-decoration: none;" %>
  </div>
</div>
