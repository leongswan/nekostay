<!DOCTYPE html>
<html>
  <head>
    <title>Nekostay</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <style>
      body {
        font-family: 'Helvetica Neue', Arial, sans-serif;
        color: #333;
        margin: 0;
        background-color: #fffbf0; /* å…¨ä½“ã®èƒŒæ™¯è‰²ã‚’å°‘ã—æ¸©ã‹ã¿ã®ã‚ã‚‹è‰²ã« */
      }
      .navbar {
        background: white;
        padding: 15px 30px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 1000;
      }
      .navbar-brand {
        font-size: 1.5rem;
        font-weight: bold;
        color: #D98E63;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .navbar-menu {
        display: flex;
        align-items: center;
        gap: 20px;
      }
    </style>
  </head>

  <body>
    <nav class="navbar">
      <%= link_to root_path, class: "navbar-brand" do %>
        <i class="fa-solid fa-cat"></i> Nekostay
      <% end %>

      <div class="navbar-menu">
        <% if user_signed_in? %>
          <%= link_to user_path(current_user), style: "text-decoration: none; display: flex; align-items: center; gap: 10px; color: #555;" do %>
            <div style="width: 40px; height: 40px; border-radius: 50%; background: #eee; overflow: hidden; border: 2px solid #ddd;">
              <% if current_user.image.attached? %>
                <%= image_tag current_user.image, style: "width: 100%; height: 100%; object-fit: cover;" %>
              <% else %>
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 20px;">ğŸ‘¤</div>
              <% end %>
            </div>
          <% end %>

          <%= button_to destroy_user_session_path, method: :delete, style: "background: none; border: none; color: #999; font-size: 1.2rem; cursor: pointer;", title: "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ" do %>
            <i class="fa-solid fa-right-from-bracket"></i>
          <% end %>
        
        <% else %>
          <%= link_to "ãƒ­ã‚°ã‚¤ãƒ³", new_user_session_path, style: "text-decoration: none; color: #555; font-weight: bold;" %>
          <%= link_to "æ–°è¦ç™»éŒ²", new_user_registration_path, style: "text-decoration: none; background: #D98E63; color: white; padding: 8px 20px; border-radius: 20px; font-weight: bold;" %>
        <% end %>
      </div>
    </nav>

    <%= yield %>

  </body>
</html>