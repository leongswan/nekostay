<%= form_with(model: stay, local: true) do |f| %>

  <% if stay.errors.any? %>
    <div style="background: #fff5f5; color: #c53030; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9rem;">
      <ul style="margin: 0; padding-left: 20px;">
        <% stay.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div style="margin-bottom: 25px;">
    <%= f.label :pet_id, "üê± „ÅäÁïôÂÆàÁï™„Åô„Çã„Éö„ÉÉ„Éà", style: "display: block; font-weight: bold; margin-bottom: 8px; color: #555;" %>
    <div style="position: relative;">
      <%= f.collection_select :pet_id, current_user.pets, :id, :name, { prompt: "„Éö„ÉÉ„Éà„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ" }, { style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; appearance: none; background: #fff; cursor: pointer;" } %>
      <i class="fa-solid fa-chevron-down" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #999; pointer-events: none;"></i>
    </div>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
    <div>
      <%= f.label :start_on, "üìÖ ÈñãÂßãÊó•", style: "display: block; font-weight: bold; margin-bottom: 8px; color: #555;" %>
      <%= f.date_field :start_on, style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box; color: #555;" %>
    </div>
    <div>
      <%= f.label :end_on, "üìÖ ÁµÇ‰∫ÜÊó•", style: "display: block; font-weight: bold; margin-bottom: 8px; color: #555;" %>
      <%= f.date_field :end_on, style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box; color: #555;" %>
    </div>
  </div>

  <div style="margin-bottom: 25px;">
    <%= f.label :sitter_id, "üë§ ÊãÖÂΩì„Ç∑„ÉÉ„Çø„Éº", style: "display: block; font-weight: bold; margin-bottom: 8px; color: #555;" %>
    <div style="position: relative;">
      <%= f.collection_select :sitter_id, User.all, :id, :name, { prompt: "„Ç∑„ÉÉ„Çø„Éº„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ" }, { style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; appearance: none; background: #fff; cursor: pointer;" } %>
      <i class="fa-solid fa-chevron-down" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #999; pointer-events: none;"></i>
    </div>
    <p style="font-size: 0.8rem; color: #999; margin-top: 5px;">
      ‚Äª ÁôªÈå≤Ê∏à„Åø„ÅÆ„É¶„Éº„Ç∂„Éº„Åã„ÇâÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ
    </p>
  </div>

  <div style="margin-bottom: 25px;">
    <%= f.label :place, "üìç „Åä‰∏ñË©±„Åô„ÇãÂ†¥ÊâÄ", style: "display: block; font-weight: bold; margin-bottom: 8px; color: #555;" %>
    <div style="position: relative;">
      <%= f.select :place, [['üè† „Ç∑„ÉÉ„Çø„Éº„ÅÆËá™ÂÆÖ', 'sitter_home'], ['üè° È£º„ÅÑ‰∏ª„ÅÆËá™ÂÆÖ', 'owner_home']], {}, { style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; appearance: none; background: #fff; cursor: pointer;" } %>
      <i class="fa-solid fa-chevron-down" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #999; pointer-events: none;"></i>
    </div>
  </div>

  <div style="margin-bottom: 30px;">
    <%= f.label :notes, "üìù „Ç∑„ÉÉ„Çø„Éº„Å∏„ÅÆ„É°„É¢", style: "display: block; font-weight: bold; margin-bottom: 8px; color: #555;" %>
    <%= f.text_area :notes, rows: 4, placeholder: "„ÅîÈ£Ø„ÅÆ„ÅÇ„ÅíÊñπ„ÇÑ„ÄÅÁâπ„Å´Ê≥®ÊÑè„Åó„Å¶„Åª„Åó„ÅÑ„Åì„Å®„Å™„Å©...", style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; line-height: 1.6; box-sizing: border-box;" %>
  </div>

  <div style="display: flex; gap: 15px;">
    <%= link_to "„Ç≠„É£„É≥„Çª„É´", (stay.new_record? ? root_path : stay_path(stay)), style: "flex: 1; text-align: center; background: #f0f0f0; color: #666; padding: 12px; border-radius: 30px; text-decoration: none; font-weight: bold;" %>
    
    <%= f.button (stay.new_record? ? "‰∫àÁ¥Ñ„Çí‰øùÂ≠ò„Åô„Çã" : "ÂÜÖÂÆπ„ÇíÊõ¥Êñ∞„Åô„Çã"), type: "submit", style: "flex: 2; background: #D98E63; color: white; border: none; padding: 12px; border-radius: 30px; font-weight: bold; font-size: 1rem; cursor: pointer;" %>
  </div>

<% end %>