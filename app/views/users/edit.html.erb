<div style="max-width: 600px; margin: 40px auto; padding: 20px; background: white; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
  
  <h2 style="text-align: center; color: #5A4A42; margin-bottom: 30px;">
    <i class="fa-solid fa-user-pen"></i> プロフィールの編集
  </h2>

  <%= form_with(model: @user, local: true) do |f| %>
    
    <% if @user.errors.any? %>
      <div style="color: red; margin-bottom: 20px; background: #fff0f0; padding: 10px; border-radius: 8px;">
        <ul>
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div style="margin-bottom: 25px; text-align: center;">
      <div style="width: 100px; height: 100px; border-radius: 50%; background: #eee; margin: 0 auto 10px; overflow: hidden; border: 3px solid #D98E63;">
        <% if @user.image.attached? %>
          <%= image_tag @user.image, style: "width: 100%; height: 100%; object-fit: cover;" %>
        <% else %>
          <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 40px; color: #ccc;">
            <i class="fa-solid fa-user"></i>
          </div>
        <% end %>
      </div>
      <%= f.label :image, "写真を変更する", style: "display: inline-block; cursor: pointer; color: #D98E63; font-weight: bold; font-size: 0.9rem;" %>
      <%= f.file_field :image, style: "display: none;", onchange: "this.form.submit()" %> 
      <div style="margin-top: 5px;">
        <%= f.file_field :image, class: "form-control" %>
      </div>
    </div>

    <div style="margin-bottom: 20px;">
      <%= f.label :name, "お名前（ニックネーム可）", style: "display: block; font-weight: bold; color: #5A4A42; margin-bottom: 5px;" %>
      <%= f.text_field :name, placeholder: "例：ねこ好き太郎", style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box;" %>
    </div>

    <div style="margin-bottom: 30px;">
      <%= f.label :introduction, "自己紹介・シッター経験など", style: "display: block; font-weight: bold; color: #5A4A42; margin-bottom: 5px;" %>
      <%= f.text_area :introduction, rows: 6, placeholder: "はじめまして！猫を2匹飼っています。シッター経験はありませんが、丁寧にお世話させていただきます。", style: "width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; line-height: 1.6;" %>
    </div>

    <div style="text-align: center; gap: 10px; display: flex; justify-content: center;">
      <%= link_to "キャンセル", user_path(@user), style: "padding: 12px 30px; border-radius: 30px; background: #eee; color: #666; text-decoration: none; font-weight: bold;" %>
      
      <%= f.button type: "submit", style: "padding: 12px 50px; border-radius: 30px; background: #D98E63; color: white; border: none; font-weight: bold; cursor: pointer; font-size: 1rem;" do %>
        <i class="fa-solid fa-save"></i> 保存する
      <% end %>
    </div>

  <% end %>
</div>